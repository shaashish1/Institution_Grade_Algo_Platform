# ğŸ“ˆ Stocks Module - Indian Equity Trading (Fyers API)

> **Professional Indian equity trading module powered by Fyers API for NSE/BSE markets**  
> Part of the [AlgoProject Enterprise Trading Platform](../README.md)

---

## ğŸ—ï¸ **Module Architecture**

```
stocks/
â”œâ”€â”€  fyers/                  # Fyers API integration
â”‚   â”œâ”€â”€ credentials.py         # Fyers API credentials manager
â”‚   â””â”€â”€ generate_token.py      # Token generation utility
â””â”€â”€ ğŸ“œ scripts/                # Stock trading scripts
    â”œâ”€â”€ stocks_demo_live.py    # Live demo trading
    â”œâ”€â”€ stocks_backtest.py     # Backtesting engine
    â””â”€â”€ stocks_live_scanner.py # Real-time stock scanner
```

### **Related Files**
- `input/stocks_assets.csv` - NSE/BSE stock symbols
- `input/access_token.py` - Auto-generated Fyers token
- `config/config_stocks.yaml` - Stock-specific configuration
- `output/` - Trading results and logs

---

## ğŸš€ **Quick Start**

### **1. Setup Fyers API**

```bash
# Generate Fyers access token
python stocks/fyers/generate_token.py

# This creates: input/access_token.py
```

### **2. Run Stock Scripts**

```bash
# Live demo trading (risk-free)
python stocks/scripts/stocks_demo_live.py

# Backtesting
python stocks/scripts/stocks_backtest.py

# Real-time scanner
python stocks/scripts/stocks_live_scanner.py
```

---

## ğŸ“Š **Features**

### **ğŸ¯ Core Capabilities**

- **ğŸª NSE/BSE Integration** - Official broker data through Fyers API
- **ğŸ“ˆ Real-time Data** - Live prices, volumes, and market depth
- **ğŸ”„ Token Management** - Automatic token generation and refresh
- **ğŸ“Š Advanced Analytics** - Technical indicators and market analysis
- **ğŸ›¡ï¸ Risk Management** - Position sizing and stop-loss management
- **ğŸ“‹ Symbol Management** - Dynamic stock symbol loading
- **ğŸ¨ Professional UI** - Beautiful tables and progress indicators

### **ğŸ“ˆ Supported Markets**

| **Exchange** | **Market** | **Instruments** |
|-------------|------------|----------------|
| ğŸª **NSE** | National Stock Exchange | Equities, Derivatives |
| ğŸª **BSE** | Bombay Stock Exchange | Equities, Derivatives |

---

## ğŸ”§ **API Integration**

### **ğŸ” Authentication Flow**

```python
# 1. Generate token (manual step)
python stocks/fyers/generate_token.py

# 2. Auto-loads in scripts
from input.access_token import ACCESS_TOKEN
```

### **ğŸ“Š Data Providers**

The module uses centralized data providers from `utils/`:

- **`stocks/fyers_data_provider.py`** - Advanced Fyers API wrapper
- **`stocks/simple_fyers_provider.py`** - Simplified data access
- **`utils/data_acquisition.py`** - Unified data interface

---

## ğŸ“œ **Scripts Overview**

### **ğŸ® stocks_demo_live.py**

Real-time stock trading simulation with live data but no actual trades.

```python
# Features:
- Live price monitoring
- Technical analysis
- Order simulation
- Risk management
- Performance tracking
```

### **ğŸ“Š stocks_backtest.py**

Historical backtesting engine for strategy validation.

```python
# Features:
- Historical data analysis
- Strategy backtesting
- Performance metrics
- Risk assessment
- Trade analytics
```

### **ğŸ” stocks_live_scanner.py**

Real-time stock market scanner for opportunity detection.

```python
# Features:
- Live market scanning
- Technical indicator alerts
- Volume analysis
- Price movement detection
- Custom filters
```

---

## ğŸ“‹ **Configuration**

### **ğŸ”§ Stock Assets**

Stock symbols are managed in `stocks/data/stocks_assets.csv`:

```csv
symbol,name,exchange,sector
RELIANCE,Reliance Industries,NSE,Energy
TCS,Tata Consultancy Services,NSE,IT
HDFCBANK,HDFC Bank,NSE,Banking
INFY,Infosys,NSE,IT
ICICIBANK,ICICI Bank,NSE,Banking
```

### **âš™ï¸ Credentials**

Fyers API credentials are stored in `input/access_token.py`:

```python
# Generated by stocks/fyers/generate_token.py
ACCESS_TOKEN = "your_fyers_access_token_here"
```

---

## ğŸ› ï¸ **Development**

### **ğŸ”§ Adding New Features**

1. **New Trading Strategy**
   ```python
   # Add to src/strategies/
   # Import in stock scripts
   ```

2. **Custom Indicators**
   ```python
   # Add to src/technical_analysis.py
   # Use in scanner/backtest
   ```

3. **New Data Sources**
   ```python
   # Extend utils/fyers_data_provider.py
   # Maintain Fyers-only approach
   ```

### **ğŸ§ª Testing**

```bash
# Test Fyers integration
python -m pytest tests/test_fyers_only.py

# Test data acquisition
python utils/data_acquisition.py

# Validate stock scripts
python stocks/scripts/stocks_demo_live.py --test
```

---

## ğŸ“Š **Market Data**

### **ğŸ“ˆ Real-time Data**

- **Live Prices** - Real-time bid/ask prices
- **Market Depth** - Order book data
- **Volume Analysis** - Trading volumes and trends
- **Technical Indicators** - RSI, MACD, Moving Averages

### **ğŸ•°ï¸ Historical Data**

- **Daily OHLCV** - Open, High, Low, Close, Volume
- **Intraday Data** - Minute-level price data
- **Corporate Actions** - Splits, dividends, bonuses
- **Market Events** - Earnings, announcements

---

## ğŸ”’ **Security & Risk**

### **ğŸ›¡ï¸ Safety Features**

- **Demo Mode** - Risk-free testing with live data
- **Position Limits** - Maximum position size controls
- **Stop Loss** - Automatic loss protection
- **Token Security** - Secure credential management

### **ğŸ“Š Risk Management**

- **Portfolio Limits** - Maximum exposure controls
- **Drawdown Protection** - Loss limit enforcement
- **Position Sizing** - Optimal trade sizing
- **Market Hours** - Trading time restrictions

---

## ğŸš€ **Production Ready**

### **ğŸ¯ Performance Features**

- **Optimized API Calls** - Efficient data fetching
- **Caching System** - Reduced API usage
- **Error Handling** - Robust error recovery
- **Logging** - Comprehensive audit trail

### **ğŸ“ˆ Monitoring**

- **Real-time Dashboards** - Live performance tracking
- **Alert Systems** - Price and volume alerts
- **Performance Metrics** - P&L, Sharpe ratio, etc.
- **Trade Analytics** - Detailed trade analysis

---

## ğŸ“– **Documentation**

- **ğŸ“š Main README** - `../README.md`
- **ğŸ”§ Setup Guide** - `FYERS_ONLY_SETUP.md`
- **ğŸ§ª Testing** - `../tests/test_fyers_only.py`
- **ğŸ“Š Data Acquisition** - `../data_acquisition.py`

---

## ğŸ”— Related Documentation

- [**Main README**](../README.md) - Project overview and setup
- [**Crypto Module**](crypto-module.md) - Cryptocurrency trading
- [**Strategies Module**](strategies-module.md) - Trading strategies
- [**Fyers Setup Guide**](FYERS_ONLY_SETUP.md) - Detailed setup instructions
- [**Documentation Index**](README.md) - All documentation

---

## ğŸ¤ **Support**

For Fyers API support and stock trading queries:

- **ğŸ“§ Email Support** - Check main README
- **ğŸ“š Documentation** - Fyers API docs
- **ğŸ› Issues** - GitHub issues
- **ğŸ’¬ Community** - Trading forums

---

<div align="center">

### **ğŸš€ Ready to Trade Stocks?**

[![Main README](https://img.shields.io/badge/Main%20Project-ğŸš€-brightgreen)](../README.md)
[![Crypto Module](https://img.shields.io/badge/Crypto%20Module-ğŸª™-blue)](crypto-module.md)
[![Strategies](https://img.shields.io/badge/Strategies-ğŸ“Š-orange)](strategies-module.md)

**Part of the AlgoProject Enterprise Trading Platform**

</div>

---

> **âš ï¸ Disclaimer**: This is a trading platform for educational and research purposes. Always practice proper risk management and comply with financial regulations.
