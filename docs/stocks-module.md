# 📈 Stocks Module - Indian Equity Trading (Fyers API)

> **Professional Indian equity trading module powered by Fyers API for NSE/BSE markets**  
> Part of the [AlgoProject Enterprise Trading Platform](../README.md)

---

## 🏗️ **Module Architecture**

```
stocks/
├──  fyers/                  # Fyers API integration
│   ├── credentials.py         # Fyers API credentials manager
│   └── generate_token.py      # Token generation utility
└── 📜 scripts/                # Stock trading scripts
    ├── stocks_demo_live.py    # Live demo trading
    ├── stocks_backtest.py     # Backtesting engine
    └── stocks_live_scanner.py # Real-time stock scanner
```

### **Related Files**
- `input/stocks_assets.csv` - NSE/BSE stock symbols
- `input/access_token.py` - Auto-generated Fyers token
- `config/config_stocks.yaml` - Stock-specific configuration
- `output/` - Trading results and logs

---

## 🚀 **Quick Start**

### **1. Setup Fyers API**

```bash
# Generate Fyers access token
python stocks/fyers/generate_token.py

# This creates: input/access_token.py
```

### **2. Run Stock Scripts**

```bash
# Live demo trading (risk-free)
python stocks/scripts/stocks_demo_live.py

# Backtesting
python stocks/scripts/stocks_backtest.py

# Real-time scanner
python stocks/scripts/stocks_live_scanner.py
```

---

## 📊 **Features**

### **🎯 Core Capabilities**

- **🏪 NSE/BSE Integration** - Official broker data through Fyers API
- **📈 Real-time Data** - Live prices, volumes, and market depth
- **🔄 Token Management** - Automatic token generation and refresh
- **📊 Advanced Analytics** - Technical indicators and market analysis
- **🛡️ Risk Management** - Position sizing and stop-loss management
- **📋 Symbol Management** - Dynamic stock symbol loading
- **🎨 Professional UI** - Beautiful tables and progress indicators

### **📈 Supported Markets**

| **Exchange** | **Market** | **Instruments** |
|-------------|------------|----------------|
| 🏪 **NSE** | National Stock Exchange | Equities, Derivatives |
| 🏪 **BSE** | Bombay Stock Exchange | Equities, Derivatives |

---

## 🔧 **API Integration**

### **🔐 Authentication Flow**

```python
# 1. Generate token (manual step)
python stocks/fyers/generate_token.py

# 2. Auto-loads in scripts
from input.access_token import ACCESS_TOKEN
```

### **📊 Data Providers**

The module uses centralized data providers from `utils/`:

- **`stocks/fyers_data_provider.py`** - Advanced Fyers API wrapper
- **`stocks/simple_fyers_provider.py`** - Simplified data access
- **`utils/data_acquisition.py`** - Unified data interface

---

## 📜 **Scripts Overview**

### **🎮 stocks_demo_live.py**

Real-time stock trading simulation with live data but no actual trades.

```python
# Features:
- Live price monitoring
- Technical analysis
- Order simulation
- Risk management
- Performance tracking
```

### **📊 stocks_backtest.py**

Historical backtesting engine for strategy validation.

```python
# Features:
- Historical data analysis
- Strategy backtesting
- Performance metrics
- Risk assessment
- Trade analytics
```

### **🔍 stocks_live_scanner.py**

Real-time stock market scanner for opportunity detection.

```python
# Features:
- Live market scanning
- Technical indicator alerts
- Volume analysis
- Price movement detection
- Custom filters
```

---

## 📋 **Configuration**

### **🔧 Stock Assets**

Stock symbols are managed in `stocks/data/stocks_assets.csv`:

```csv
symbol,name,exchange,sector
RELIANCE,Reliance Industries,NSE,Energy
TCS,Tata Consultancy Services,NSE,IT
HDFCBANK,HDFC Bank,NSE,Banking
INFY,Infosys,NSE,IT
ICICIBANK,ICICI Bank,NSE,Banking
```

### **⚙️ Credentials**

Fyers API credentials are stored in `input/access_token.py`:

```python
# Generated by stocks/fyers/generate_token.py
ACCESS_TOKEN = "your_fyers_access_token_here"
```

---

## 🛠️ **Development**

### **🔧 Adding New Features**

1. **New Trading Strategy**
   ```python
   # Add to src/strategies/
   # Import in stock scripts
   ```

2. **Custom Indicators**
   ```python
   # Add to src/technical_analysis.py
   # Use in scanner/backtest
   ```

3. **New Data Sources**
   ```python
   # Extend utils/fyers_data_provider.py
   # Maintain Fyers-only approach
   ```

### **🧪 Testing**

```bash
# Test Fyers integration
python -m pytest tests/test_fyers_only.py

# Test data acquisition
python utils/data_acquisition.py

# Validate stock scripts
python stocks/scripts/stocks_demo_live.py --test
```

---

## 📊 **Market Data**

### **📈 Real-time Data**

- **Live Prices** - Real-time bid/ask prices
- **Market Depth** - Order book data
- **Volume Analysis** - Trading volumes and trends
- **Technical Indicators** - RSI, MACD, Moving Averages

### **🕰️ Historical Data**

- **Daily OHLCV** - Open, High, Low, Close, Volume
- **Intraday Data** - Minute-level price data
- **Corporate Actions** - Splits, dividends, bonuses
- **Market Events** - Earnings, announcements

---

## 🔒 **Security & Risk**

### **🛡️ Safety Features**

- **Demo Mode** - Risk-free testing with live data
- **Position Limits** - Maximum position size controls
- **Stop Loss** - Automatic loss protection
- **Token Security** - Secure credential management

### **📊 Risk Management**

- **Portfolio Limits** - Maximum exposure controls
- **Drawdown Protection** - Loss limit enforcement
- **Position Sizing** - Optimal trade sizing
- **Market Hours** - Trading time restrictions

---

## 🚀 **Production Ready**

### **🎯 Performance Features**

- **Optimized API Calls** - Efficient data fetching
- **Caching System** - Reduced API usage
- **Error Handling** - Robust error recovery
- **Logging** - Comprehensive audit trail

### **📈 Monitoring**

- **Real-time Dashboards** - Live performance tracking
- **Alert Systems** - Price and volume alerts
- **Performance Metrics** - P&L, Sharpe ratio, etc.
- **Trade Analytics** - Detailed trade analysis

---

## 📖 **Documentation**

- **📚 Main README** - `../README.md`
- **🔧 Setup Guide** - `FYERS_ONLY_SETUP.md`
- **🧪 Testing** - `../tests/test_fyers_only.py`
- **📊 Data Acquisition** - `../data_acquisition.py`

---

## 🔗 Related Documentation

- [**Main README**](../README.md) - Project overview and setup
- [**Crypto Module**](crypto-module.md) - Cryptocurrency trading
- [**Strategies Module**](strategies-module.md) - Trading strategies
- [**Fyers Setup Guide**](FYERS_ONLY_SETUP.md) - Detailed setup instructions
- [**Documentation Index**](README.md) - All documentation

---

## 🤝 **Support**

For Fyers API support and stock trading queries:

- **📧 Email Support** - Check main README
- **📚 Documentation** - Fyers API docs
- **🐛 Issues** - GitHub issues
- **💬 Community** - Trading forums

---

<div align="center">

### **🚀 Ready to Trade Stocks?**

[![Main README](https://img.shields.io/badge/Main%20Project-🚀-brightgreen)](../README.md)
[![Crypto Module](https://img.shields.io/badge/Crypto%20Module-🪙-blue)](crypto-module.md)
[![Strategies](https://img.shields.io/badge/Strategies-📊-orange)](strategies-module.md)

**Part of the AlgoProject Enterprise Trading Platform**

</div>

---

> **⚠️ Disclaimer**: This is a trading platform for educational and research purposes. Always practice proper risk management and comply with financial regulations.
